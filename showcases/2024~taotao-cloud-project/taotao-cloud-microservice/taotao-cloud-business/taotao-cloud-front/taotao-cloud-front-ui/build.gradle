plugins {
    //https://github.com/node-gradle/gradle-node-plugin
    //https://plugins.gradle.org/plugin/com.github.node-gradle.node
    id "com.github.node-gradle.node" version "7.0.2"

    //https://github.com/siouan/frontend-gradle-plugin.git
    //https://siouan.github.io/frontend-gradle-plugin/
    //https://plugins.gradle.org/plugin/org.siouan.frontend-jdk17
    id "org.siouan.frontend-jdk17" version "8.0.0"
}

mainClassName = ""

import org.siouan.frontendgradleplugin.infrastructure.gradle.RunPnpm

frontend {
    nodeVersion.set("18.17.1")
    assembleScript.set("run build")
    cleanScript.set("run clean")
    checkScript.set("run check")
    verboseModeEnabled.set(true)
}

task pnpm8Version(type: RunPnpm){
    dependsOn("installPackageManager")
    script.set("--version")
    script.set("--registry https://registry.npmmirror.com")
}

build.dependsOn pnpm8Version
