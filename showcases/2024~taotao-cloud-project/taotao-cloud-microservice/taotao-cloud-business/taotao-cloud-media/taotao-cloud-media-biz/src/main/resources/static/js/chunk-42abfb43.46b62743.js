(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42abfb43"],{"0f14":function(e,l,t){"use strict";t.r(l);var i=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",[t("div",{staticStyle:{"margin-left":"12px"}},[t("el-row",{attrs:{gutter:1,type:"flex",align:"middle"}},[t("el-col",{attrs:{span:3}},[e._v("选择流快速填写：")]),t("el-col",{attrs:{span:12}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"可以从这里选择流"},on:{change:e.changeSelectValue},model:{value:e.selectValue,callback:function(l){e.selectValue=l},expression:"selectValue"}},e._l(e.tableData,(function(e){return t("el-option",{key:e.url,attrs:{label:e.remark+"--"+e.url,value:e.url}})})),1)],1)],1),t("el-row",{attrs:{gutter:1,type:"flex",align:"middle"}},[t("el-col",{attrs:{span:3}},[e._v("播放地址：")]),t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"播放地址"},model:{value:e.playUrl,callback:function(l){e.playUrl=l},expression:"playUrl"}})],1),t("el-col",{attrs:{span:3}},[t("el-button",{attrs:{type:"primary"},on:{click:e.handlePlay}},[e._v("播放")])],1),t("el-col",{attrs:{span:3}},[t("el-checkbox",{on:{change:e.changeFfmpeg},model:{value:e.useffmpeg,callback:function(l){e.useffmpeg=l},expression:"useffmpeg"}},[e._v("使用ffmpeg提高兼容稳定性")])],1)],1)],1),t("div",{staticStyle:{margin:"10px 10px 10px 10px"}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.selectType(0)}}},[e._v("单屏")]),t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.selectType(1)}}},[e._v("四分屏")]),t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.selectType(2)}}},[e._v("九分屏")]),t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.selectType(3)}}},[e._v("十六分屏")]),t("div",{staticStyle:{"margin-left":"30px","font-size":"15px",color:"red"}},[e._v("注意：从流管理里面开启的flv是永久开启，否则为按需播放")])],1)]),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",bottom:"0px",top:"150px",width:"80%"}},[0==e.selected?t("div",{staticStyle:{width:"100%",height:"100%","margin-left":"20px"}},[t("el-row",{staticStyle:{"min-height":"90%"},attrs:{gutter:10,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:24}},[t("div",{class:0==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(0)}}},[t("cus-player",{ref:"video0",on:{clickPlayer:e.clickPlayer}})],1)])],1)],1):1==e.selected?t("div",{staticStyle:{width:"100%",height:"100%","margin-left":"20px"}},[t("el-row",{staticStyle:{height:"45%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:12}},[t("div",{class:0==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(0)}}},[t("cus-player",{ref:"video0",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:12}},[t("div",{class:1==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(1)}}},[t("cus-player",{ref:"video1",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticClass:"row-bg",staticStyle:{height:"45%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:12}},[t("div",{class:2==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(2)}}},[t("cus-player",{ref:"video2",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:12}},[t("div",{class:3==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(3)}}},[t("cus-player",{ref:"video3",on:{clickPlayer:e.clickPlayer}})],1)])],1)],1):2==e.selected?t("div",{staticStyle:{height:"100%",width:"100%","margin-left":"20px"}},[t("el-row",{staticStyle:{height:"30%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:8}},[t("div",{class:0==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(0)}}},[t("cus-player",{ref:"video0",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:1==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(1)}}},[t("cus-player",{ref:"video1",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:2==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(2)}}},[t("cus-player",{ref:"video2",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticStyle:{height:"30%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:8}},[t("div",{class:3==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(3)}}},[t("cus-player",{ref:"video3",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:4==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(4)}}},[t("cus-player",{ref:"video4",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:5==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(5)}}},[t("cus-player",{ref:"video5",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticClass:"row-bg",staticStyle:{height:"30%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:8}},[t("div",{class:6==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(6)}}},[t("cus-player",{ref:"video6",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:7==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(7)}}},[t("cus-player",{ref:"video7",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:8}},[t("div",{class:8==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(8)}}},[t("cus-player",{ref:"video8",on:{clickPlayer:e.clickPlayer}})],1)])],1)],1):3==e.selected?t("div",{staticStyle:{height:"100%",width:"100%","margin-left":"20px"}},[t("el-row",{staticStyle:{height:"22.5%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:6}},[t("div",{class:0==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(0)}}},[t("cus-player",{ref:"video0",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:1==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(1)}}},[t("cus-player",{ref:"video1",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:2==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(2)}}},[t("cus-player",{ref:"video2",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:3==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(3)}}},[t("cus-player",{ref:"video3",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticStyle:{height:"22.5%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:6}},[t("div",{class:4==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(4)}}},[t("cus-player",{ref:"video4",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:5==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(5)}}},[t("cus-player",{ref:"video5",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:6==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(6)}}},[t("cus-player",{ref:"video6",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:7==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(7)}}},[t("cus-player",{ref:"video7",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticStyle:{height:"22.5%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:6}},[t("div",{class:8==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(8)}}},[t("cus-player",{ref:"video8",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:9==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(9)}}},[t("cus-player",{ref:"video9",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:10==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(10)}}},[t("cus-player",{ref:"video10",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:11==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(11)}}},[t("cus-player",{ref:"video11",on:{clickPlayer:e.clickPlayer}})],1)])],1),t("el-row",{staticStyle:{height:"22.5%"},attrs:{gutter:1,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:6}},[t("div",{class:12==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(12)}}},[t("cus-player",{ref:"video12",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:13==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(13)}}},[t("cus-player",{ref:"video13",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:14==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(14)}}},[t("cus-player",{ref:"video14",on:{clickPlayer:e.clickPlayer}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{class:15==e.videoIndex?"selectVideo":"video",on:{click:function(l){return e.clickVideo(15)}}},[t("cus-player",{ref:"video15",on:{clickPlayer:e.clickPlayer}})],1)])],1)],1):e._e()])])},c=[],o=t("5392"),n=t.n(o),a=t("b402"),r=t.n(a),s=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticStyle:{position:"absolute",height:"100%",width:"100%",display:"flex","align-items":"center","justify-content":"center"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlay,expression:"isPlay"}],staticClass:"video",attrs:{id:e.elId}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPlay,expression:"!isPlay"}],staticStyle:{color:"#08979C","font-size":"25px"}},[e._v("暂无视频源")])])},d=[],u=t("11c1"),y={name:"CusPlayer",components:{},data:function(){return{isPlay:!1,player:null,elId:""}},created:function(){this.elId=Object(u["v4"])()},mounted:function(){document.addEventListener("visibilitychange",(function(){document.hidden&&console.log("页面隐藏")}))},methods:{createPlayer:function(e,l,t){var i=this;if(e)if(this.player)this.changeVideo(e);else{this.isPlay=!0,this.player=new r.a({id:this.elId,url:e,fluid:!0,autoplay:!0,isLive:!0,playsinline:!1,screenShot:!0,whitelist:[""],ignores:["time"],closeVideoClick:!0,customConfig:{isClickPlayBack:!1},flvOptionalConfig:{enableWorker:!0,enableStashBuffer:!1,stashInitialSize:2048,lazyLoad:!1,lazyLoadMaxDuration:2400,autoCleanupSourceBuffer:!0,autoCleanupMaxBackwardDuration:2100,autoCleanupMinBackwardDuration:1800}});var c='<i class="btn-hover el-icon-d-arrow-left button-playback" style="font-size: 23px;pointer-events: auto;"></i>',o='<i @click="closePlayer" class="btn-hover el-icon-close app-close-btn-c"></i>',a=n.a.util,s=a.createDom("div",c,{style:"width: 40px;heigth:40px;position: absolute;right: 155px;top: 7px;"},"flex align-center justify-center app-player-button"),d=a.createDom("div",o,{},"app-close-btn"),u=this.player.root.querySelector("xg-controls");this.player.root.querySelector("xg-error");u.appendChild(s),this.player.root.appendChild(d);var y=d.querySelector(".app-close-btn-c");s.querySelector(".button-playback");this.player.on("play",(function(){})),this.player.on("focus",(function(){l&&(d.style.display="block")})),this.player.on("ended",(function(){})),this.player.on("blur",(function(){d.style.display="none"})),this.player.on("error",(function(){})),y&&y.addEventListener("click",(function(){i.closePlayer()})),this.player.video.addEventListener("click",(function(){i.$emit("clickPlayer",t)}))}},changeVideo:function(e){this.player.src=e},closePlayer:function(){this.isPlay=!1,this.player&&this.player.destroy()}},beforeDestroy:function(){this.player&&this.player.destroy(),console.log("销毁了")}},p=y,v=(t("1842"),t("2877")),f=Object(v["a"])(p,s,d,!1,null,null,null),k=f.exports,h={components:{CusPlayer:k},data:function(){return{selected:0,videoIndex:0,tableData:[],selectValue:"",playUrl:"",useffmpeg:!1}},created:function(){this.getList()},methods:{selectType:function(e){this.selected=e},clickVideo:function(e){this.videoIndex=e},changeSelectValue:function(){this.playUrl="ws://localhost:8866/live?url="+this.selectValue},changeFfmpeg:function(){if(!this.selectValue)return this.$message.error("请先选择流"),void(this.useffmpeg=!1);this.useffmpeg?this.playUrl="ws://localhost:8866/live?url="+this.selectValue+"&&&ffmpeg=true":this.playUrl="ws://localhost:8866/live?url="+this.selectValue},getList:function(){var e=this;this.$http.get("/list").then((function(l){200==l.data.code&&(e.tableData=l.data.data)}))},handlePlay:function(){if(this.playUrl){var e="video"+this.videoIndex;this.$refs[e].createPlayer(this.playUrl,!0,this.videoIndex)}else this.$message.error("请填写播放地址")},clickPlayer:function(e){this.videoIndex=e}}},x=h,P=(t("f652"),Object(v["a"])(x,i,c,!1,null,null,null));l["default"]=P.exports},1842:function(e,l,t){"use strict";t("a8f3")},"8c49":function(e,l,t){},a8f3:function(e,l,t){},f652:function(e,l,t){"use strict";t("8c49")}}]);
//# sourceMappingURL=chunk-42abfb43.46b62743.js.map